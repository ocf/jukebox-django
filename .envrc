# Use with direnv (https://direnv.net/)
# Install direnv and add 'eval "$(direnv hook bash)"' to your shell config

# For flakes support
use flake

# Fallback for older nix without flakes
use_nix() {
  watch_file shell.nix
  eval "$(nix-shell --command 'bash -c "declare -p -x > /dev/stdout"')"
}

# If flakes fail, try the older method
if ! type -p use > /dev/null; then
  use_nix
fi 